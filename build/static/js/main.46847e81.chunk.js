(this.webpackJsonpstarter=this.webpackJsonpstarter||[]).push([[0],{185:function(e,t,a){e.exports=a(280)},190:function(e,t,a){},191:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},192:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),i=(a(190),a(6)),l=(a(191),a(4),a(31)),s=a(64),u=(a(192),a(116)),m=a(281),d=a(364),p=a(168),h=(Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"fit-content"},name:{fontSize:"20px"},avatar:{width:60,height:60}}})),a(357)),f=a(328);a(329),a(330);var b=a(336),g=a(334),E=a(351),v=a(335),j=a(360),O=a(331),S=a(337),y=a(354),C=a(109),x=a.n(C),w=a(332),k=a(333),N=function(e){if(!e.ok)throw Error(e.statusText);return e};function _(){return c.a.createElement(p.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",c.a.createElement(O.a,{color:"inherit",href:"https://qwerty.com/"},"QWERTY")," ",(new Date).getFullYear(),".")}var P=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(){var e=P(),t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],m=s[1];return c.a.createElement(k.a,{component:"main",maxWidth:"xs"},c.a.createElement(g.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(d.a,{className:e.avatar},c.a.createElement(x.a,null)),c.a.createElement(p.a,{component:"h1",variant:"h5"},"Sign in"),c.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),function(e,t){fetch("/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(N).then((function(e){return e.json()}))}(r,u)}},c.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:r,onChange:function(e){return o(e.target.value)},autoComplete:"email",autoFocus:!0}),c.a.createElement(E.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:u,onChange:function(e){return m(e.target.value)}}),c.a.createElement(v.a,{control:c.a.createElement(j.a,{value:"remember",color:"primary"}),label:"Remember me"}),c.a.createElement(b.a,{type:"submit",fullWidth:!0,disabled:!(r.length>0&&u.length>0),variant:"contained",color:"primary",className:e.submit},"Sign In"),c.a.createElement(S.a,{container:!0},c.a.createElement(S.a,{item:!0,xs:!0},c.a.createElement(O.a,{href:"#",variant:"body2"},"Forgot password?")),c.a.createElement(S.a,{item:!0},c.a.createElement(O.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))),c.a.createElement(y.a,{mt:8},c.a.createElement(_,null)))}a(163),Object(w.a)((function(e){return{button:{margin:e.spacing(1)}}}));var F=a(352),D=a(362),A=a(359),W=function(){return c.a.createElement("div",null,c.a.createElement(F.a,null,c.a.createElement(D.a,null,c.a.createElement(D.a.Section,{oneThird:!0},c.a.createElement(A.a,{title:"Some cool stuff coming soon"},c.a.createElement(A.a.Section,null))),c.a.createElement(D.a.Section,{oneThird:!0}))))},I=a(39),B=a(28),L=a(358),q=(a(12),function(e,t){var a=[];return e.forEach((function(e){var n=[];t.forEach((function(t){var a="function"==typeof t.renderer?t.renderer(e):e[t.name];n.push(a)})),a.push(n)})),a}),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"created";return fetch("/api/products/".concat(e,"/").concat(t,"/").concat(a)).then(N).then((function(e){return e.json()}))},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"created";return fetch("/api/products/pending/".concat(e,"/").concat(t,"/").concat(a)).then(N).then((function(e){return e.json()}))},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"created";return fetch("/api/products/approved/".concat(e,"/").concat(t,"/").concat(a)).then(N).then((function(e){return e.json()}))},U=a(166),G=a(69),Y=a(40),z=a(118),H=a(361),Q=a(341),Z=a(342);function $(e){var t=e.producstGetter,a=Object(n.useState)([]),r=Object(i.a)(a,2),o=r[0],l=r[1],s=Object(n.useState)(0),u=Object(i.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(0),h=Object(i.a)(p,2),f=h[0],b=h[1],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e>=0&&f/10>=e&&(d(e),t&&t(e).then((function(e){var t=q(e.data,j);b(e.count),l(t)})).catch((function(e){console.log(e)})))},E=Object(n.useCallback)((function(){g(m+1,f)}),[m,f]),v=Object(n.useCallback)((function(){g(m-1,f)}),[m,f]),j=[{name:"title",renderer:function(e){return c.a.createElement(U.a,{removeUnderline:!0,url:"/dashboard/Products/Validate/".concat(e._id)},e.title)}},{name:"status",renderer:function(e){return e.approved?c.a.createElement(G.a,{status:"success"},"Approved"):c.a.createElement(G.a,{status:"attention"},"Pending")}},{name:"vendor"},{name:"product_type"}];Object(n.useEffect)((function(){g()}),[t]);var O=c.a.createElement(Y.a,{on:!0,alignment:"center"},c.a.createElement(I.a,{segmented:!0},c.a.createElement(B.a,{onClick:v,disabled:0==m,icon:Q.a}),c.a.createElement(B.a,{onClick:E,disabled:10*(m+1)>=f,icon:Z.a})),c.a.createElement(z.a,null,"Showing ".concat(10*m+1," - ").concat(10*m+o.length," of ").concat(f," results")));return c.a.createElement(c.a.Fragment,null,c.a.createElement(H.a,{columnContentTypes:["text","text","text","text"],headings:["Product","Status","Vendor","Type"],rows:o,footerContent:O}))}var K=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(0),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(n.useCallback)((function(e){return u(e)}),[]),d=c.a.createElement(I.a,null,c.a.createElement(B.a,{loading:a,onClick:function(){r(!0),fetch("/api/products/sync_all").then(N).then((function(e){return e.json()})).then((function(e){r(!1)})).catch((function(e){}))}},"Sync products")),p=[{id:"all-products",content:"All",panelID:"all-products",getter:V},{id:"pending-products",content:"Pending",panelID:"pending-products",getter:J},{id:"approved-products",content:"Approved",panelID:"approved-products",getter:R}];return c.a.createElement(F.a,{title:"Products",fullWidth:!0,primaryAction:d},c.a.createElement(A.a,null,c.a.createElement(L.a,{tabs:p,selected:s,onSelect:m},c.a.createElement(A.a.Section,null,c.a.createElement($,{producstGetter:a?null:p[s].getter})))))},M=a(86),X=(a(279),function(e){var t=e.id,a=e.name,n=e.checked,r=e.onChange,o=e.optionLabels,i=void 0===o?["Yes","No"]:o,l=e.small,s=e.disabled;return c.a.createElement("div",{className:"toggle-switch"+(l?" small-switch":"")},c.a.createElement("input",{type:"checkbox",name:a,className:"toggle-switch-checkbox",id:t,checked:n,onChange:function(e){return r(e.target.checked)},disabled:s}),t?c.a.createElement("label",{className:"toggle-switch-label",htmlFor:t},c.a.createElement("span",{className:s?"toggle-switch-inner toggle-switch-disabled":"toggle-switch-inner","data-yes":i[0],"data-no":i[1]}),c.a.createElement("span",{className:s?"toggle-switch-switch toggle-switch-disabled":"toggle-switch-switch"})):null)}),ee=a(167),te=a(10),ae=a(363),ne=a(365),ce=a(355),re=a(36),oe=a(51),ie=a(343),le=a(344);function se(e){var t=e.variantData,a=e.onFieldChange,r=Object(n.useState)(!1),o=Object(i.a)(r,2),l=o[0],s=o[1],u=Object(n.useCallback)((function(){return s((function(e){return!e}))}),[]),m=c.a.createElement(ee.a,{size:"small"}," ","".concat(t?t.title:"")," "),d=c.a.createElement(c.a.Fragment,null,"Capacity ",c.a.createElement("span",{className:"info_icon_wrapper"},c.a.createElement(B.a,{plain:!0,onClick:u},c.a.createElement(te.a,{backdrop:!1,source:ie.a}))));return c.a.createElement(A.a.Section,{title:m},c.a.createElement(ae.a,null,c.a.createElement(ae.a.Group,{condensed:!0},c.a.createElement(ne.a,{source:t.image_src||le.a}),c.a.createElement("div",null,c.a.createElement("div",{className:"Polaris-Labelled__LabelWrapper"},c.a.createElement("div",{className:"Polaris-Label"},c.a.createElement("label",{htmlFor:t._id},"Contains nicotine"))),c.a.createElement(X,{id:t._id,checked:!!t.contains_nicotine,onChange:function(e){a(t._id,"contains_nicotine",e)}})),c.a.createElement(ce.a,{label:"Items in package",type:"number",value:t.items_count+"",onChange:function(e){a(t._id,"items_count",e)}}),c.a.createElement(ce.a,{label:c.a.createElement(re.a,{active:l,activator:d,onClose:u},c.a.createElement(oe.a,{sections:[{items:[{helpText:"Capacity for each item."}]}]})),type:"number",suffix:"ml",value:t.capacity+"",step:10,onChange:function(e){a(t._id,"capacity",e)}}))))}function ue(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),u=l[0],m=l[1],d=Object(s.h)().id,p=Object(s.g)();Object(n.useEffect)((function(){(function(e){return fetch("/api/products/sync_and_get/".concat(e)).then(N).then((function(e){return e.json()}))})(d).then((function(e){var t=e.next_id,a=e.previous_id;e.data;r(e.data),m({next_id:t,previous_id:a})}))}),[d]);var h=function(e,t,n){var c=a.variants.map((function(a){return a._id===e&&(a[t]=n),a}));r(Object(M.a)(Object(M.a)({},a),{},{variants:c}))},f=Object(n.useCallback)((function(){var e=u.next_id;(function(e,t){return fetch("/api/products/approve/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(N).then((function(e){return e.json()}))})(a._id,a).then((function(t){p.push("/dashboard/Products/Validate/".concat(e))}))}),[u]),b=Object(n.useCallback)((function(){var e=u.next_id;p.push("/dashboard/Products/Validate/".concat(e))}),[u]),g=Object(n.useCallback)((function(){var e=u.previous_id;p.push("/dashboard/Products/Validate/".concat(e))}),[u]),E=a?c.a.createElement(c.a.Fragment,null,"".concat(a.title," "),a.approved?c.a.createElement(G.a,{status:"success"},"Approved"):c.a.createElement(G.a,{status:"attention"},"Pending")):"",v=u.previous_id,j=u.next_id;return c.a.createElement(F.a,{title:E,pagination:{hasPrevious:!!v,hasNext:!!j,onNext:b,onPrevious:g}},c.a.createElement(c.a.Fragment,null,c.a.createElement(A.a,{title:"Variants",primaryFooterAction:{content:"All good",onAction:f}},a&&a.variants&&a.variants.map((function(e){return c.a.createElement(se,{key:e._id,variantData:e,onFieldChange:h})})),c.a.createElement(A.a.Section,{title:"Note"},c.a.createElement(z.a,null,"Taxes will be calculated based on these numbers. Please be sure that everything is correct!")))))}function me(){var e=Object(s.i)();return c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"".concat(e.path,"/"),component:W}),c.a.createElement(s.b,{exact:!0,path:"".concat(e.path,"/Products"),component:K}),c.a.createElement(s.b,{exact:!0,path:"".concat(e.path,"/Products/Validate/:id"),component:ue}))}var de=a(80),pe=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function he(){var e=pe(),t=Object(n.useState)(),a=Object(i.a)(t,2),r=(a[0],a[1]),o=Object(n.useReducer)((function(e,t){return Object(M.a)(Object(M.a)({},e),t)}),{firstName:"",lastName:"",email:"",phoneNumber:"",password:""}),l=Object(i.a)(o,2),s=l[0],u=l[1];var m=function(e){var t=e.target.name,a=e.target.value;u(Object(de.a)({},t,a))};return c.a.createElement(k.a,{component:"main",maxWidth:"xs"},c.a.createElement(g.a,null),c.a.createElement("div",{className:e.paper},c.a.createElement(d.a,{className:e.avatar},c.a.createElement(x.a,null)),c.a.createElement(p.a,{component:"h1",variant:"h5"},"Sign up"),c.a.createElement("form",{className:e.form,onSubmit:function(e){var t;e.preventDefault(),(t=s,fetch("/api/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(N).then((function(e){return e.json()}))).catch((function(e){return r(e.toString())}))}},c.a.createElement(S.a,{container:!0,spacing:2},c.a.createElement(S.a,{item:!0,xs:12,sm:6},c.a.createElement(E.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,value:s.firstName,onChange:m,label:"First Name",autoFocus:!0})),c.a.createElement(S.a,{item:!0,xs:12,sm:6},c.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,value:s.lastName,onChange:m,label:"Last Name",name:"lastName",autoComplete:"lname"})),c.a.createElement(S.a,{item:!0,xs:12},c.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,value:s.email,onChange:m,label:"Email Address",name:"email",autoComplete:"email"})),c.a.createElement(S.a,{item:!0,xs:12},c.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",value:s.password,onChange:m,autoComplete:"current-password"}))),c.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),c.a.createElement(S.a,{container:!0,justify:"flex-end"},c.a.createElement(S.a,{item:!0},c.a.createElement(O.a,{href:"#",variant:"body2"},"Already have an account? Sign in"))))),c.a.createElement(y.a,{mt:5},c.a.createElement(_,null)))}var fe=a(353),be=a(356),ge=a(350),Ee=a(338),ve=a(346),je=a(347),Oe=a(348),Se=a(349);a(158);function ye(){Object(s.i)();var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(s.g)(),l=Object(n.useCallback)((function(e){return r(e)}),[]),u=c.a.createElement(fe.a.SearchField,{placeholder:"Search",value:a,onChange:l}),m=c.a.createElement(fe.a,{searchField:u}),d=c.a.createElement(h.a,{location:"/"},c.a.createElement(h.a.Section,{items:[{label:"Back to Shopify",icon:Ee.a}]}),c.a.createElement(h.a.Section,{separator:!0,title:"Excise tax helper",items:[{onClick:function(){o.push("/dashboard/")},label:"Dashboard",icon:f.a},{onClick:function(){o.push("/dashboard/TaxRates")},label:"TaxRates",icon:ve.a},{onClick:function(){o.push("/dashboard/Products")},label:"Products",icon:je.a},{onClick:function(){o.push("/dashboard/Settings")},label:"Settings",icon:Oe.a}],action:{icon:Se.a,accessibilityLabel:"Contact support"}}));return c.a.createElement("div",{style:{height:"250px"}},c.a.createElement(be.a,{theme:{colors:{topBar:{background:"#fff",margin:"10px 10px"}},logo:{width:37,topBarSource:"/logo.svg",url:"https://vapejuicedepot.com",accessibilityLabel:"ENDS taxer",contextualSaveBarSource:"/logo.svg"}},i18n:{Polaris:{Frame:{skipToContent:"Skip to content"},ContextualSaveBar:{save:"Save",discard:"Discard"},DropZone:{FileUpload:{actionTitleImage:"Add media",actionHintImage:"or drop files to upload"}},TopBar:{SearchField:{clearButtonLabel:"Clear",search:"Search"}}}}},c.a.createElement(ge.a,{topBar:m,navigation:d},c.a.createElement(D.a.Section,null,c.a.createElement(me,null)))))}function Ce(e){var t=e.isAuthenticated,a=e.children,n=Object(u.a)(e,["isAuthenticated","children"]);return c.a.createElement(s.b,Object.assign({},n,{render:function(e){e.location;return t?a:c.a.createElement(s.a,{to:"/login"})}}))}function xe(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=(a[0],a[1]),o=Object(n.useState)(!1),u=Object(i.a)(o,2),m=(u[0],u[1]),d=Object(n.useState)(null),p=Object(i.a)(d,2);p[0],p[1];return Object(n.useEffect)((function(){fetch("/api/user/hi").then(N).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return m(e.toString())}))}),[]),c.a.createElement(l.a,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/login",component:T}),c.a.createElement(s.b,{path:"/signup",component:he}),c.a.createElement(Ce,{isAuthenticated:!0,path:"/dashboard"},c.a.createElement(ye,null)),c.a.createElement(s.b,{path:"/",component:T},c.a.createElement(s.a,{to:"/dashboard"}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[185,1,2]]]);
//# sourceMappingURL=main.46847e81.chunk.js.map